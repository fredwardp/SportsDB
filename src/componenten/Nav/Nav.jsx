import "./Nav.css";
import React, { useState } from "react";
import { AllPlayersContext, SearchValueContext } from "../../context/context";
import { useContext } from "react";
import FetchData from "../FetchData/FetchData";
import DarkMode from "../DarkMode/DarkMode";
import { Link, useNavigate } from "react-router-dom";

const Nav = () => {
  const { players, setPlayers } = useContext(AllPlayersContext);
  const { searchValue, setSearchValue } = useContext(SearchValueContext);

  let navigate = useNavigate();
  const searchFunction = () => {
    if (searchValue) {
      navigate(`/detailplayer/${searchValue}`);
      setSearchValue("");
    }
  };

  const searchEnter = () => {
    if (event.key === "Enter" && searchValue != "") {
      navigate(`/detailplayer/${searchValue}`);
      setSearchValue("");
    }
  };

  return (
    <nav className="navLeiste">
      <div>
        <Link to={"/"}>
          <svg width="169" height="33" viewBox="0 0 169 33" fill="none">
            <path
              style={{ fill: "var(--white)" }}
              d="M49.2695 21.2422C49.2695 22.2578 49.0234 23.1406 48.5312 23.8906C48.0391 24.6406 47.3203 25.2188 46.375 25.625C45.4375 26.0312 44.2969 26.2344 42.9531 26.2344C42.3594 26.2344 41.7773 26.1953 41.207 26.1172C40.6445 26.0391 40.1016 25.9258 39.5781 25.7773C39.0625 25.6211 38.5703 25.4297 38.1016 25.2031V21.8281C38.9141 22.1875 39.7578 22.5117 40.6328 22.8008C41.5078 23.0898 42.375 23.2344 43.2344 23.2344C43.8281 23.2344 44.3047 23.1562 44.6641 23C45.0312 22.8438 45.2969 22.6289 45.4609 22.3555C45.625 22.082 45.707 21.7695 45.707 21.418C45.707 20.9883 45.5625 20.6211 45.2734 20.3164C44.9844 20.0117 44.5859 19.7266 44.0781 19.4609C43.5781 19.1953 43.0117 18.9102 42.3789 18.6055C41.9805 18.418 41.5469 18.1914 41.0781 17.9258C40.6094 17.6523 40.1641 17.3203 39.7422 16.9297C39.3203 16.5391 38.9727 16.0664 38.6992 15.5117C38.4336 14.9492 38.3008 14.2773 38.3008 13.4961C38.3008 12.4727 38.5352 11.5977 39.0039 10.8711C39.4727 10.1445 40.1406 9.58984 41.0078 9.20703C41.8828 8.81641 42.9141 8.62109 44.1016 8.62109C44.9922 8.62109 45.8398 8.72656 46.6445 8.9375C47.457 9.14062 48.3047 9.4375 49.1875 9.82812L48.0156 12.6523C47.2266 12.332 46.5195 12.0859 45.8945 11.9141C45.2695 11.7344 44.6328 11.6445 43.9844 11.6445C43.5312 11.6445 43.1445 11.7188 42.8242 11.8672C42.5039 12.0078 42.2617 12.2109 42.0977 12.4766C41.9336 12.7344 41.8516 13.0352 41.8516 13.3789C41.8516 13.7852 41.9688 14.1289 42.2031 14.4102C42.4453 14.6836 42.8047 14.9492 43.2812 15.207C43.7656 15.4648 44.3672 15.7656 45.0859 16.1094C45.9609 16.5234 46.707 16.957 47.3242 17.4102C47.9492 17.8555 48.4297 18.3828 48.7656 18.9922C49.1016 19.5938 49.2695 20.3438 49.2695 21.2422ZM57.8477 8.86719C60.0586 8.86719 61.6719 9.34375 62.6875 10.2969C63.7031 11.2422 64.2109 12.5469 64.2109 14.2109C64.2109 14.9609 64.0977 15.6797 63.8711 16.3672C63.6445 17.0469 63.2734 17.6523 62.7578 18.1836C62.25 18.7148 61.5703 19.1367 60.7188 19.4492C59.8672 19.7539 58.8164 19.9062 57.5664 19.9062H56.0078V26H52.375V8.86719H57.8477ZM57.6602 11.8438H56.0078V16.9297H57.2031C57.8828 16.9297 58.4727 16.8398 58.9727 16.6602C59.4727 16.4805 59.8594 16.1992 60.1328 15.8164C60.4062 15.4336 60.543 14.9414 60.543 14.3398C60.543 13.4961 60.3086 12.8711 59.8398 12.4648C59.3711 12.0508 58.6445 11.8438 57.6602 11.8438ZM82.9961 17.4102C82.9961 18.7305 82.832 19.9336 82.5039 21.0195C82.1758 22.0977 81.6758 23.0273 81.0039 23.8086C80.3398 24.5898 79.4961 25.1914 78.4727 25.6133C77.4492 26.0273 76.2383 26.2344 74.8398 26.2344C73.4414 26.2344 72.2305 26.0273 71.207 25.6133C70.1836 25.1914 69.3359 24.5898 68.6641 23.8086C68 23.0273 67.5039 22.0938 67.1758 21.0078C66.8477 19.9219 66.6836 18.7148 66.6836 17.3867C66.6836 15.6133 66.9727 14.0703 67.5508 12.7578C68.1367 11.4375 69.0352 10.4141 70.2461 9.6875C71.457 8.96094 72.9961 8.59766 74.8633 8.59766C76.7227 8.59766 78.25 8.96094 79.4453 9.6875C80.6484 10.4141 81.5391 11.4375 82.1172 12.7578C82.7031 14.0781 82.9961 15.6289 82.9961 17.4102ZM70.4922 17.4102C70.4922 18.6055 70.6406 19.6367 70.9375 20.5039C71.2422 21.3633 71.7148 22.0273 72.3555 22.4961C72.9961 22.957 73.8242 23.1875 74.8398 23.1875C75.8711 23.1875 76.707 22.957 77.3477 22.4961C77.9883 22.0273 78.4531 21.3633 78.7422 20.5039C79.0391 19.6367 79.1875 18.6055 79.1875 17.4102C79.1875 15.6133 78.8516 14.1992 78.1797 13.168C77.5078 12.1367 76.4023 11.6211 74.8633 11.6211C73.8398 11.6211 73.0039 11.8555 72.3555 12.3242C71.7148 12.7852 71.2422 13.4492 70.9375 14.3164C70.6406 15.1758 70.4922 16.207 70.4922 17.4102ZM91.5391 8.86719C93.0938 8.86719 94.375 9.05469 95.3828 9.42969C96.3984 9.80469 97.1523 10.3711 97.6445 11.1289C98.1367 11.8867 98.3828 12.8438 98.3828 14C98.3828 14.7812 98.2344 15.4648 97.9375 16.0508C97.6406 16.6367 97.25 17.1328 96.7656 17.5391C96.2812 17.9453 95.7578 18.2773 95.1953 18.5352L100.234 26H96.2031L92.1133 19.4258H90.1797V26H86.5469V8.86719H91.5391ZM91.2812 11.8438H90.1797V16.4727H91.3516C92.5547 16.4727 93.4141 16.2734 93.9297 15.875C94.4531 15.4688 94.7148 14.875 94.7148 14.0938C94.7148 13.2812 94.4336 12.7031 93.8711 12.3594C93.3164 12.0156 92.4531 11.8438 91.2812 11.8438ZM109 26H105.367V11.8906H100.715V8.86719H113.652V11.8906H109V26ZM126.402 21.2422C126.402 22.2578 126.156 23.1406 125.664 23.8906C125.172 24.6406 124.453 25.2188 123.508 25.625C122.57 26.0312 121.43 26.2344 120.086 26.2344C119.492 26.2344 118.91 26.1953 118.34 26.1172C117.777 26.0391 117.234 25.9258 116.711 25.7773C116.195 25.6211 115.703 25.4297 115.234 25.2031V21.8281C116.047 22.1875 116.891 22.5117 117.766 22.8008C118.641 23.0898 119.508 23.2344 120.367 23.2344C120.961 23.2344 121.438 23.1562 121.797 23C122.164 22.8438 122.43 22.6289 122.594 22.3555C122.758 22.082 122.84 21.7695 122.84 21.418C122.84 20.9883 122.695 20.6211 122.406 20.3164C122.117 20.0117 121.719 19.7266 121.211 19.4609C120.711 19.1953 120.145 18.9102 119.512 18.6055C119.113 18.418 118.68 18.1914 118.211 17.9258C117.742 17.6523 117.297 17.3203 116.875 16.9297C116.453 16.5391 116.105 16.0664 115.832 15.5117C115.566 14.9492 115.434 14.2773 115.434 13.4961C115.434 12.4727 115.668 11.5977 116.137 10.8711C116.605 10.1445 117.273 9.58984 118.141 9.20703C119.016 8.81641 120.047 8.62109 121.234 8.62109C122.125 8.62109 122.973 8.72656 123.777 8.9375C124.59 9.14062 125.438 9.4375 126.32 9.82812L125.148 12.6523C124.359 12.332 123.652 12.0859 123.027 11.9141C122.402 11.7344 121.766 11.6445 121.117 11.6445C120.664 11.6445 120.277 11.7188 119.957 11.8672C119.637 12.0078 119.395 12.2109 119.23 12.4766C119.066 12.7344 118.984 13.0352 118.984 13.3789C118.984 13.7852 119.102 14.1289 119.336 14.4102C119.578 14.6836 119.938 14.9492 120.414 15.207C120.898 15.4648 121.5 15.7656 122.219 16.1094C123.094 16.5234 123.84 16.957 124.457 17.4102C125.082 17.8555 125.562 18.3828 125.898 18.9922C126.234 19.5938 126.402 20.3438 126.402 21.2422ZM128.723 24.3242C128.723 23.5898 128.922 23.0742 129.32 22.7773C129.727 22.4805 130.215 22.332 130.785 22.332C131.34 22.332 131.816 22.4805 132.215 22.7773C132.621 23.0742 132.824 23.5898 132.824 24.3242C132.824 25.0273 132.621 25.5352 132.215 25.8477C131.816 26.1602 131.34 26.3164 130.785 26.3164C130.215 26.3164 129.727 26.1602 129.32 25.8477C128.922 25.5352 128.723 25.0273 128.723 24.3242ZM150.566 17.2695C150.566 19.1992 150.195 20.8125 149.453 22.1094C148.719 23.3984 147.652 24.3711 146.254 25.0273C144.855 25.6758 143.172 26 141.203 26H136.352V8.86719H141.73C143.527 8.86719 145.086 9.1875 146.406 9.82812C147.727 10.4609 148.75 11.4023 149.477 12.6523C150.203 13.8945 150.566 15.4336 150.566 17.2695ZM146.793 17.3633C146.793 16.0977 146.605 15.0586 146.23 14.2461C145.863 13.4258 145.316 12.8203 144.59 12.4297C143.871 12.0391 142.98 11.8438 141.918 11.8438H139.984V23H141.543C143.316 23 144.633 22.5273 145.492 21.582C146.359 20.6367 146.793 19.2305 146.793 17.3633ZM154.117 8.86719H159.449C161.73 8.86719 163.457 9.1875 164.629 9.82812C165.801 10.4688 166.387 11.5938 166.387 13.2031C166.387 13.8516 166.281 14.4375 166.07 14.9609C165.867 15.4844 165.57 15.9141 165.18 16.25C164.789 16.5859 164.312 16.8047 163.75 16.9062V17.0234C164.32 17.1406 164.836 17.3438 165.297 17.6328C165.758 17.9141 166.125 18.3281 166.398 18.875C166.68 19.4141 166.82 20.1328 166.82 21.0312C166.82 22.0703 166.566 22.9609 166.059 23.7031C165.551 24.4453 164.824 25.0156 163.879 25.4141C162.941 25.8047 161.824 26 160.527 26H154.117V8.86719ZM157.75 15.6523H159.859C160.914 15.6523 161.645 15.4883 162.051 15.1602C162.457 14.8242 162.66 14.332 162.66 13.6836C162.66 13.0273 162.418 12.5586 161.934 12.2773C161.457 11.9883 160.699 11.8438 159.66 11.8438H157.75V15.6523ZM157.75 18.5352V23H160.117C161.211 23 161.973 22.7891 162.402 22.3672C162.832 21.9453 163.047 21.3789 163.047 20.668C163.047 20.2461 162.953 19.875 162.766 19.5547C162.578 19.2344 162.262 18.9844 161.816 18.8047C161.379 18.625 160.773 18.5352 160 18.5352H157.75Z"
            />
            <path
              d="M9.72727 3L10.4344 2.29289C10.2468 2.10536 9.99249 2 9.72727 2V3ZM1 3V2C0.447715 2 0 2.44772 0 3H1ZM15.7273 9.00001L15.0202 9.70712C15.2077 9.89465 15.4621 10 15.7273 10C15.9925 10 16.2469 9.89465 16.4344 9.70712L15.7273 9.00001ZM20.6364 4.09093L21.3435 3.38382C20.9529 2.9933 20.3198 2.9933 19.9293 3.38382L20.6364 4.09093ZM25 8.45455L25.7704 7.81698C25.7504 7.79282 25.7293 7.76962 25.7071 7.74744L25 8.45455ZM25 8.45456L25.7071 9.16167C26.0719 8.79687 26.0993 8.21444 25.7704 7.817L25 8.45456ZM25 8.45457L24.2929 7.74747C24.1053 7.935 24 8.18936 24 8.45457H25ZM25 27V28C25.5523 28 26 27.5523 26 27H25ZM18.4545 27H17.4545C17.4545 27.2652 17.5599 27.5196 17.7474 27.7071C17.935 27.8947 18.1893 28 18.4545 28V27ZM18.4545 15H19.4545C19.4545 14.5956 19.2109 14.2309 18.8372 14.0761C18.4636 13.9214 18.0334 14.0069 17.7474 14.2929L18.4545 15ZM6.45455 27L5.74744 27.7071C6.13796 28.0977 6.77113 28.0977 7.16165 27.7071L6.45455 27ZM2.09091 22.6364L1.3838 21.9293C1.19627 22.1168 1.09091 22.3712 1.09091 22.6364C1.09091 22.9016 1.19627 23.156 1.3838 23.3435L2.09091 22.6364ZM13 11.7273L13.7071 12.4344C13.9931 12.1484 14.0787 11.7183 13.9239 11.3446C13.7691 10.9709 13.4045 10.7273 13 10.7273V11.7273ZM1 11.7273H0C0 12.2796 0.447715 12.7273 1 12.7273L1 11.7273ZM9.72727 2H1V4H9.72727V2ZM16.4344 8.2929L10.4344 2.29289L9.02017 3.70711L15.0202 9.70712L16.4344 8.2929ZM16.4344 9.70712L21.3435 4.79803L19.9293 3.38382L15.0202 8.2929L16.4344 9.70712ZM19.9293 4.79803L24.2929 9.16166L25.7071 7.74744L21.3435 3.38382L19.9293 4.79803ZM24.2296 9.09212L24.2296 9.09213L25.7704 7.817L25.7704 7.81698L24.2296 9.09212ZM24.2929 7.74746L24.2929 7.74747L25.7071 9.16168L25.7071 9.16167L24.2929 7.74746ZM26 27V8.45457H24V27H26ZM18.4545 28H25V26H18.4545V28ZM17.4545 15L17.4545 27H19.4545L19.4545 15H17.4545ZM17.7474 14.2929L5.74744 26.2929L7.16165 27.7071L19.1616 15.7071L17.7474 14.2929ZM7.16165 26.2929L2.79802 21.9293L1.3838 23.3435L5.74744 27.7071L7.16165 26.2929ZM2.79802 23.3435L13.7071 12.4344L12.2929 11.0202L1.3838 21.9293L2.79802 23.3435ZM1 12.7273H13V10.7273H1V12.7273ZM0 3V11.7273H2V3H0Z"
              style={{ fill: "var(--red)" }}
            />
          </svg>
        </Link>
      </div>
      <div className="nav-wrapper">
        <div className="search-box">
          <input
            onKeyPress={searchEnter}
            type="text"
            onChange={(event) => setSearchValue(event.target.value)}
            value={searchValue}
            className="input-search"
            placeholder="Suche..."
          />
          <div style={{ cursor: "pointer" }} onClick={searchFunction}>
            <a class="search-btn">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="30"
                height="30"
                viewBox="0 0 50 50"
              >
                <path
                  d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"
                  style={{ fill: "var(--red)" }}
                ></path>
              </svg>
            </a>
          </div>
        </div>
        <DarkMode />
      </div>
    </nav>
  );
};

export default Nav;
